Array.prototype.forEach||(Array.prototype.forEach=function(t){var n=this.length;if("function"!=typeof t)throw new TypeError;for(var e=arguments[1],i=0;i<n;i++)i in this&&t.call(e,this[i],i,this)}),function(t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof module){var n=module.exports=t();n.HashMap=n}else this.HashMap=t()}(function(){function t(t){switch(this.clear(),arguments.length){case 0:break;case 1:this.copy(t);break;default:n(this,arguments)}}function n(t,n){for(var e=0;e<n.length;e+=2)t.set(n[e],n[e+1])}function e(t,n){Object.defineProperty&&Object.defineProperty(t,n,{enumerable:!1})}var i=t.prototype={constructor:t,get:function(t){var n=this._data[this.hash(t)];return n&&n[1]},set:function(t,n){var e=this.hash(t);e in this._data||this._count++,this._data[e]=[t,n]},multi:function(){n(this,arguments)},copy:function(t){for(var n in t._data)n in this._data||this._count++,this._data[n]=t._data[n]},has:function(t){return this.hash(t)in this._data},search:function(t){for(var n in this._data)if(this._data[n][1]===t)return this._data[n][0];return null},remove:function(t){var n=this.hash(t);n in this._data&&(this._count--,delete this._data[n])},type:function(t){var n=Object.prototype.toString.call(t),e=n.slice(8,-1).toLowerCase();return"domwindow"!==e||t?e:t+""},keys:function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(n){t.push(n)}),t},count:function(){return this._count},clear:function(){this._data={},this._count=0},clone:function(){return new t(this)},hash:function(n){switch(this.type(n)){case"undefined":case"null":case"boolean":case"number":case"regexp":return n+"";case"date":return"♣"+n.getTime();case"string":return"♠"+n;case"array":for(var i=[],a=0;a<n.length;a++)i[a]=this.hash(n[a]);return"♥"+i.join("⁞");default:return n?(n.hasOwnProperty("_hmuid_")||(n._hmuid_=++t.uid,e(n,"_hmuid_")),"♦"+n._hmuid_):n+""}},forEach:function(t,n){for(var e in this._data){var i=this._data[e];t.call(n||this,i[1],i[0])}}};return t.uid=0,["set","multi","copy","remove","clear","forEach"].forEach(function(t){var n=i[t];i[t]=function(){return n.apply(this,arguments),this}}),t});
function sort(r,s){if(s=s||"desc",0==r.length)return[];var t=[],e=[],n=r[0];if("asc"===s)for(var h=1;h<r.length;h++)r[h]<n?t.push(r[h]):e.push(r[h]);else for(var h=1;h<r.length;h++)r[h]>n?t.push(r[h]):e.push(r[h]);return sort(t,s).concat(n,sort(e,s))}function sortObj(r,s,t){if(s=s||"id",t=t||"desc",0==r.length)return[];var e=[],n=[],h=r[0][s],o=r[0];if("asc"===t)for(var u=1;u<r.length;u++)r[u][s]<h?e.push(r[u]):n.push(r[u]);else for(var u=1;u<r.length;u++)r[u][s]>h?e.push(r[u]):n.push(r[u]);return sortObj(e,s,t).concat(o,sortObj(n,s,t))}
function scroll_position(e){var n=$("#"+e),o=$("#div_02"),t=$(window).height()-n.height()+$(window).scrollTop()-200;if("none"!=o.get(0).style.display&&t>=458){t-o.height()+63}}$(document).ready(function(){unit_layer.init_num_del_company(),$("#close_save_com_layer").bind("click",unit_layer.save_and_close_comps),$(window).bind("scroll resize load",function(){scroll_position("div_01")})});var unit_layer={};unit_layer.saveCookie=function(e){var n=$("#box_select_company"),o=$("#box_select_company").get(0),t=o.selectedIndex,i=o.options[t];if(""==n.val()||null==i.getAttribute("c_name"))return void $(".alert_box").hide();var a=jQuery.cookie("removeComps");return null!=a&&""!=a&&a.indexOf(n.val()+"|")!=-1?void $(".alert_box").hide():void unit_layer.on_track_event(function(){a=(null==a||""==a?"":a+",")+n.val()+"|"+encodeURIComponent(i.getAttribute("c_name")),jQuery.cookie("removeComps",a,{expires:3,path:"/"}),unit_layer.refresh_joblist()},e,{dda_action:"forbid",companyid:n.val(),company:encodeURIComponent(i.getAttribute("c_name"))})},unit_layer.save_and_close_comps=function(){try{dyweTrackEvent("forbidcompwithsou","forbidcomp")}catch(e){}finally{unit_layer.saveCookie(this)}},unit_layer.close_comps=function(){$("#div_02").hide(),unit_layer.refresh_joblist()},unit_layer.refresh_joblist=function(){location.href=location.href.replace(/&p=\d/,"").replace(/#$/,"")},unit_layer.init_remove_comps=function(){var e=$.cookie("removeComps"),n=0;if(null!=e&&""!=e){var o=e.split(",");o.length>0&&$(".com_name").each(function(){var e=o[arguments[0]];if(void 0!=e&&e.indexOf("|")!=-1){var t=($(this).html(),e.split("|")[0]),i=decodeURIComponent(e.split("|")[1]);n++,$(this).attr({c_id:t,c_name:i});$(this).text();$(this).html(i+"<i class='alt_close02 __ga__i_forbidcompwithsou_cancelfc_cancel_00"+arguments[0]+"1'></i>"),$(this).parent(".dsp_none").show()}}),$(".alt_close02").each(function(){var e=(arguments[0],$(this));e.bind("click",function(){var n=$.cookie("removeComps");if(null!=n){var o=e.parent(".com_name"),t=o.attr("c_id"),i=o.attr("c_name");null!=n&&""!=n&&(n=n.replace(t+"|"+encodeURIComponent(i),""),n=n.replace(/,,/g,","),n=n.replace(/^,|,$/g,"")),$.cookie("removeComps",n,{expires:3,path:"/"}),unit_layer.on_track_event(unit_layer.close_comps(),this,{dda_action:"cancel",companyid:t,company:encodeURIComponent(i)})}})})}var t=$("#remove_com_num");t.html(n)},unit_layer.init_num_del_company=function(){var e=$("#box_select_company").get(0).options.length,n=$.cookie("removeComps");e>1||n?($(".del_company").show(),$(".del_company .f_number").html(n?n.split(",").length:"0")):$(".del_company").hide()},unit_layer.onSelect_limit=function(){var e=0;if($(".com_name").each(function(){null!=$(this).attr("c_id")&&e++}),e>=5){var n=($("#box_select_company"),$("#box_select_company").get(0));n.options[0].selected="selected",alert("最多可排除5家公司，请先删除已排除公司后再选择。")}},unit_layer.on_track_event=function(e,n,o){try{var t=unit_layer,i={dda_action:"",companyid:"",company:""};$.extend(i,o);var a="http://pv.zhaopin.cn/track.gif?dda_source=souresultpage&dda_position=forbidcompany";a=t.init_monitor_url(i,a);var c=new Image(1,1);c.src=a}catch(e){}finally{setTimeout(e instanceof Function?e:function(){},100)}},unit_layer.init_monitor_url=function(e,n){var o=unit_layer,t=n||"",i={dywesu:$.cookie("JsNewlogin")||"",dda_path:o.URIencode(location.href),dda_dywea:o.URIencode($.cookie("dywea")),dda_referer:document.referrer?o.URIencode(document.referrer):"-"};e&&$.extend(i,e);for(var a in i)t+="&"+a+"="+i[a];return t},unit_layer.URIencode=function(e,n){var o=encodeURIComponent;return o instanceof Function?n?encodeURI(e):o(e):escape(e)},unit_layer.init_monitor_event=function(e,n,o,t){var i=unit_layer;i.on_track_event(e,n)};
